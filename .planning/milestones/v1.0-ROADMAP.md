# Milestone v1.0: Fork Foundation

**Status:** ✅ SHIPPED 2026-01-30
**Phases:** 1
**Total Plans:** 5

## Overview

CodeMAD is a **fork of OpenCode** (github.com/anomalyco/opencode), not a greenfield build. This milestone established CodeMAD as a distinct product with Chinese LLM provider support. The fork strategy reduces time-to-market from 12-18 months to 5-7 months by inheriting OpenCode's desktop shell, multi-provider LLM integration, LSP, MCP tools, session management, and basic Git operations.

**Fork Base:** OpenCode v1.1.44+ (MIT License, 92.5k stars, 663 contributors)
**What OpenCode Provides:** TypeScript client/server, LLM provider abstraction, LSP, MCP, session persistence, Git basics
**What CodeMAD Adds (this milestone):** Chinese LLM providers (Kimi 2.5, GLM 4.7, Minimax 2.1), CodeMAD branding, API key auth

## Phases

### Phase 1: Fork Foundation

**Goal**: CodeMAD exists as a distinct, usable product with Chinese LLM provider support
**Depends on**: Nothing (first phase)
**Requirements**: FORK-01, FORK-02, FORK-03, FORK-04
**Duration**: 1 day
**Risk Level**: LOW (straightforward fork and configuration work)

**Success Criteria** (all verified):

1. ✓ User can download and install CodeMAD on macOS, Windows, or Linux
2. ✓ User can configure and use Kimi 2.5, GLM 4.7, or Minimax 2.1 as their LLM provider
3. ✓ User can authenticate via OAuth OR API key for any supported provider
4. ✓ CodeMAD branding (name, logo, about page) is distinct from OpenCode

Plans:

- [x] 01-01-PLAN.md — Fork OpenCode and rebrand to CodeMAD (14 min)
- [x] 01-02-PLAN.md — Add Chinese LLM provider adapters (Kimi, GLM, Minimax) (4 min)
- [x] 01-03-PLAN.md — Implement API key auth and provider configuration UI (6 min)
- [x] 01-04-PLAN.md — CLI rebrand completion (gap closure) (23 min)
- [x] 01-05-PLAN.md — Terminal title, ASCII art, CLI colors (gap closure) (4 min)

**Notes:**

- OpenCode's existing Vercel AI SDK integration simplified provider addition
- Chinese providers use API key auth (OAuth not mature)
- CUSTOM_LOADERS pattern used instead of separate provider files

---

## Milestone Summary

**Key Decisions:**

- Fork OpenCode instead of greenfield Tauri build (saves 6-12 months)
- Keep packages/opencode directory name, only change npm scope to @codemad/\*
- Use CUSTOM_LOADERS pattern for Chinese providers (follows existing codebase)
- Bundle Zhipu directly, load MiniMax dynamically (type compatibility)
- Use @ai-sdk/openai-compatible for Moonshot (no dedicated SDK)
- Default to China endpoints, document global alternatives
- Use landing page brand colors (#FF3300 primary)
- Direct ANSI codes for CLI colors (97m white, 91m red)
- CM as 2-letter abbreviation for CodeMAD session titles

**Issues Resolved:**

- Chinese provider OAuth complexity → resolved with API key fallback
- TypeScript bundled provider type incompatibility → resolved with dynamic loading
- Missing rebrand strings in CLI → resolved with gap closure plans 01-04, 01-05

**Issues Deferred:**

- Custom CodeMAD icons (using OpenCode placeholders)
- i18n for non-English languages

**Technical Debt Incurred:**

- None

---

_For current project status, see .planning/ROADMAP.md_
_Archived: 2026-01-30_
